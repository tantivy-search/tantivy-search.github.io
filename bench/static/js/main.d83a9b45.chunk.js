(this["webpackJsonpsearch-benchmark"]=this["webpackJsonpsearch-benchmark"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(4),l=a(5),i=a(8),o=a(7),u=a(0),s=a.n(u),c=a(2),m=a.n(c),d=a(6),v=a.n(d);a(14),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function h(e){e=e.toString();for(var t=/(-?\d+)(\d{3})/;t.test(e);)e=e.replace(t,"$1,$2");return e}function f(e){if(0===e.duration.length)return{query:e.query,className:"unsupported",unsupported:!0};var t,a={median:(t=e.duration)[t.length/2|0],mean:t.reduce((function(e,t){return e+t}),0)/t.length,min:t[0],max:t[t.length-1]};return a.count=e.count,a.query=e.query,a}function p(e,t,a,n){return s.a.createElement("tr",{className:a+"-row"},s.a.createElement("td",null,t),Object.entries(e).map((function(e){var t=e[0],a=e[1];return void 0!==a?s.a.createElement("td",{key:"result-"+t},h(a[n])," \u03bcs"):s.a.createElement("td",{key:"result-"+t},"Some Unsupported Queries")})))}var g=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={mode:"TOP_10",tag:null},n}return Object(l.a)(a,[{key:"handleChangeMode",value:function(e){this.setState({mode:e.target.value})}},{key:"handleChangeTag",value:function(e){var t=e.target.value;"ALL"===t?this.setState({tag:null}):this.setState({tag:t})}},{key:"filterQueries",value:function(e){var t=this.state.tag;return null!==t?e.filter((function(e){return e.tags.indexOf(t)>=0})):e}},{key:"generateDataView",value:function(){var e={},t={},a=this.props.data.details,r=this.props.data.results[this.state.mode];for(var l in r){var i=r[l];i=(i=Array.from(this.filterQueries(i))).map(f);var o,u=0,s=0,c=0,m=0,d=!1,v=[],h=Object(n.a)(i);try{for(h.s();!(o=h.n()).done;){var p=o.value;p.unsupported?d=!0:(u+=p.min,v.push(p.min))}}catch(L){h.e(L)}finally{h.f()}d?(u=void 0,s=void 0,c=void 0,m=void 0):(u=u/i.length|0,0!==v.length&&(v.sort((function(e,t){return e-t})),s=v[Math.round(.5*(v.length-1))],c=v[Math.round(.9*(v.length-1))],m=v[Math.round(.99*(v.length-1))])),e[l]=d?void 0:{average:u,p50:s,p90:c,p99:m};var g,y=Object(n.a)(i);try{for(y.s();!(g=y.n()).done;){var E=g.value,b={};void 0!==t[E.query]&&(b=t[E.query]),b[l]=E,t[E.query]=b}}catch(L){y.e(L)}finally{y.f()}}for(var k in t){var O=t[k],j=null,w=0,N=null,q=0;for(var C in O){var S=O[C];S.unsupported||((null==j||S.min<w)&&(j=C,w=S.min),(null==N||S.min>q)&&(N=C,q=S.min))}for(var A in O){var F=O[A];F.unsupported||A!==j&&(F.variation=(F.min-w)/w)}null!=j&&(O[j].className="fastest",O[N].className="slowest")}return{engines:e,queries:t,details:a}}},{key:"render",value:function(){var e=this,t=this.generateDataView();return s.a.createElement("div",null,s.a.createElement("form",null,s.a.createElement("fieldset",null,s.a.createElement("label",{htmlFor:"collectionField"},"Collection type"),s.a.createElement("select",{id:"collectionField",onChange:function(t){return e.handleChangeMode(t)}},this.props.modes.map((function(e){return s.a.createElement("option",{value:e,key:e},e)}))),s.a.createElement("label",{htmlFor:"queryTagField"},"Type of Query"),s.a.createElement("select",{id:"queryTagField",onChange:function(t){return e.handleChangeTag(t)}},s.a.createElement("option",{value:"ALL",key:"all"},"ALL"),this.props.tags.map((function(e){return s.a.createElement("option",{value:e,key:e},e)}))))),s.a.createElement("hr",null),s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Query"),Object.keys(t.engines).map((function(e){return s.a.createElement("th",{key:"col-"+e},s.a.createElement("details",null,s.a.createElement("summary",null,e),(a=t.details[e],s.a.createElement("ul",{className:"details"},a.map((function(e){return s.a.createElement("li",null,e)}))))));var a})))),s.a.createElement("tbody",null,p(t.engines,"AVERAGE","average","average"),p(t.engines,"P50","percentile","p50"),p(t.engines,"P90","percentile","p90"),p(t.engines,"P99","percentile","p99"),Object.entries(t.queries).map((function(e){var a=e[0],n=e[1];return s.a.createElement("tr",null,s.a.createElement("td",null,a),Object.keys(t.engines).map((function(e){var t,a=n[e];return a.unsupported?s.a.createElement("td",{className:"data "+a.className}):s.a.createElement("td",{className:"data "+a.className},s.a.createElement("div",{className:"timing"},h(a.min),"  \u03bcs"),s.a.createElement("div",{className:"timing-variation"},void 0!==(t=a.variation)?"+"+(100*t).toFixed(1)+" %":""),s.a.createElement("div",{className:"count"},h(a.count)," docs"))})))})))))}}]),a}(s.a.Component);m()((function(){m.a.getJSON("./results.json",(function(e){var t=[],a=[],r=new Set;for(var l in e.results)t.push(l);for(var i in e.results[t[0]])a.push(i);var o,u=Object(n.a)(e.results[t[0]][a[0]]);try{for(u.s();!(o=u.n()).done;){var c,m=o.value,d=Object(n.a)(m.tags);try{for(d.s();!(c=d.n()).done;){var h=c.value;r.add(h)}}catch(y){d.e(y)}finally{d.f()}}}catch(y){u.e(y)}finally{u.f()}var f=Array.from(r);f.sort();var p=document.getElementById("app-container");v.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(g,{data:e,tags:f,modes:t,engines:a})),p)}))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.d83a9b45.chunk.js.map